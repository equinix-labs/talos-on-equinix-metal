!yamlable/v01.Constellation
name: demo
capi: v1.4.2 # https://github.com/kubernetes-sigs/cluster-api
cabpt: v0.6.0 # https://github.com/siderolabs/cluster-api-bootstrap-provider-talos
cacppt: v0.5.0 # https://github.com/siderolabs/cluster-api-control-plane-provider-talos
capp: v0.7.1 # https://github.com/kubernetes-sigs/cluster-api-provider-packet
version: 0.1.0
bary:
  name: jupiter
  pod_cidr_blocks:
    - 172.16.0.0/17
  service_cidr_blocks:
    - 172.16.128.0/17
  metro: pa
  cpem: v3.6.1 # https://github.com/equinix/cloud-provider-equinix-metal
  vips:
    - role: cp
      count: 1
      type: public_ipv4
    - role: ingress
      count: 1
      type: public_ipv4
    - role: mesh
      count: 1
      type: public_ipv4
  control_nodes:
    - plan: m3.small.x86
      count: 1
  worker_nodes:
    - plan: m3.small.x86
      count: 2
satellites:
  - name: ganymede
    pod_cidr_blocks:
      - 172.17.0.0/17
    service_cidr_blocks:
      - 172.17.128.0/17
    metro: md
    vips:
      - role: cp
        count: 1
        type: public_ipv4
      - role: ingress
        count: 1
        type: global_ipv4
      - role: mesh
        count: 1
        type: public_ipv4
    control_nodes:
      - plan: m3.small.x86
        count: 1
    worker_nodes:
      - plan: m3.small.x86
        count: 2
  - name: callisto
    pod_cidr_blocks:
      - 172.18.0.0/17
    service_cidr_blocks:
      - 172.18.128.0/17
    metro: fr
    vips:
      - role: cp
        count: 1
        type: public_ipv4
      - role: ingress
        count: 1
        type: global_ipv4
      - role: mesh
        count: 1
        type: public_ipv4
    control_nodes:
      - plan: m3.small.x86
        count: 1
    worker_nodes:
      - plan: m3.small.x86
        count: 2
